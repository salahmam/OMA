<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-app.js";
import { getFirestore, collection, doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.5.0/firebase-firestore.js";

// ğŸ”¹ Ø±Ø¨Ø· Ù…Ø¹ Ù…Ø´Ø±ÙˆØ¹Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
import { firebaseConfig } from "./firebase-config.js";

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// ğŸ”¹ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø«Ø§Ù„ Ù„Ø¨Ù†ÙŠØ© Collection "students"
async function createStudentExample() {
  const studentRef = doc(collection(db, "students"));
  await setDoc(studentRef, {
    name: "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    phone: "07700000000",
    address: "Ø¨ØºØ¯Ø§Ø¯",
    school: "Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø±Ø§ÙØ¯ÙŠÙ†",
    stage: "Ø§Ù„Ø³Ø§Ø¯Ø³ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ÙŠ - Ø¹Ù„Ù…ÙŠ",
    group: "A",
    totalFees: 350000,
    note: "Ø·Ø§Ù„Ø¨ Ù…Ø¬ØªÙ‡Ø¯ ÙˆÙ…Ù†ØªØ¸Ù…",
    createdAt: serverTimestamp(),
    subjects: [
      {
        name: "Ø±ÙŠØ§Ø¶ÙŠØ§Øª",
        teacherId: "T001",
        fee: 150000,
        remaining: 50000,
        payments: [
          { amount: 50000, date: "2025/11/01" },
          { amount: 50000, date: "2025/11/07" }
        ]
      },
      {
        name: "ÙƒÙŠÙ…ÙŠØ§Ø¡",
        teacherId: "T002",
        fee: 200000,
        remaining: 200000,
        payments: []
      }
    ]
  });

  console.log("âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø«Ø§Ù„ Collection Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­");
}

createStudentExample();
</script>
